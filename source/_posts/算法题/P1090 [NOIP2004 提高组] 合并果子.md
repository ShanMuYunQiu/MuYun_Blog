---
title: "P1090 [NOIP2004 提高组] 合并果子"
author: 山暮云秋
sticky: 0
tags:
  - 贪心
categories:
  - 算法题
abbrlink: 59ee5a77
date: 2024-01-24 00:00:00
---

##### 题目描述：[P1090 [NOIP2004 提高组] 合并果子](https://www.luogu.com.cn/problem/P1090)

---

### **解题思路**

---

- **解题思路**

  > 1、该题目与**区间 DP**的[石子合并](../a80d0031)相似，但不同点在于该题可以选择**任意两堆**合并，而**石子合并**只能选择**相邻两堆**，且该题**数据范围较大**  
  > 2、由于可以**选择任意两堆**，所以可以**贪心**。简单可知：合并的**两堆果子**，其中每一堆都**重量越小越优**，这样合并所需的**力气更小**，同时，两堆合并后的**总重也更小**，即**下一次合并时**这一堆果子**贡献的重量更小**。易证：每次都选择**当前重量最小的两堆**合并，可以得到**所求最小值**  
  > 3、对于**每次取出最小值**的需求，可以使用**优先队列**维护，注意**小根堆**应使用 $\gt$ 作为**比较运算符**

---

### **代码实现**

---

- **代码实现**

  ```cpp
  #include <bits/stdc++.h>
  using namespace std;

  void solve()
  {
      int n, ans = 0;
      cin >> n;

      priority_queue<int, vector<int>, greater<int>> pq; // 小根堆
      for (int i = 1; i <= n; i++)
      {
          int x;
          cin >> x;
          pq.push(x);
      }

      while (pq.size() > 1)
      {
          int x = pq.top();
          pq.pop();
          int y = pq.top();
          pq.pop();
          ans += x + y;
          pq.push(x + y);
      }

      cout << ans;
  }

  int main()
  {
      ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
      int T = 1;
      // cin >> T;
      while (T--)
          solve();
      return 0;
  }
  ```

---

### **页底评论**

---
